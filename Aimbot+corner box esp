local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

local Window = OrionLib:MakeWindow({
    Name = "ESP Configuration - BOM_MODS_V2",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "ESP_Config"
})

-- Configuração inicial do ESP
local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/Bomzinho778/Gusi-e/refs/heads/main/esp%20script"))()

ESP.NameColor = Color3.new(1, 1, 1)
ESP.HealthHighColor = Color3.new(0, 1, 0)
ESP.HealthLowColor = Color3.new(1, 0, 0)
ESP.Teamcheck = false
ESP.Enabled = false
ESP.ShowBox = false
ESP.ShowName = false
ESP.ShowHealth = false
ESP.ShowDistance = false
ESP.ShowTracer = false

-- Variáveis de Aimbot e FOV
local silentAimEnabled = false
local wallCheckEnabled = false
local teamCheckEnabled = false
local fovEnabled = false
local fovRadius = 200
local fovCircle = Drawing.new("Circle")
fovCircle.Thickness = 1
fovCircle.Filled = false
fovCircle.Color = Color3.new(1, 0, 0)
fovCircle.Transparency = 0.5
fovCircle.Visible = false

-- Função para atualizar o círculo da FOV
local function updateFovCircle()
    if fovEnabled then
        fovCircle.Visible = true
        local camera = workspace.CurrentCamera
        local mousePos = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)
        fovCircle.Position = mousePos
        fovCircle.Radius = fovRadius
    else
        fovCircle.Visible = false
    end
end

-- Função principal para Silent Aim
local function silentAimAtClosestPlayer()
    if not silentAimEnabled then return end
    local camera = workspace.CurrentCamera
    local closestPlayer = nil
    local shortestDistance = fovRadius

    for _, targetPlayer in pairs(game.Players:GetPlayers()) do
        if targetPlayer ~= game.Players.LocalPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Head") then
            local head = targetPlayer.Character.Head
            local screenPos, onScreen = camera:WorldToViewportPoint(head.Position)
            if onScreen and (not teamCheckEnabled or targetPlayer.Team ~= game.Players.LocalPlayer.Team) then
                local mousePos = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)
                local distance = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    closestPlayer = head
                end
            end
        end
    end

    if closestPlayer then
        camera.CFrame = CFrame.new(camera.CFrame.Position, closestPlayer.Position)
    end
end

-- Tab para ESP
local ESPTab = Window:MakeTab({
    Name = "ESP Settings",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Toggles do ESP
ESPTab:AddToggle({
    Name = "Ativar ESP",
    Default = false,
    Callback = function(Value)
        ESP.Enabled = Value
    end
})

ESPTab:AddToggle({
    Name = "Mostrar Box",
    Default = false,
    Callback = function(Value)
        ESP.ShowBox = Value
    end
})

ESPTab:AddToggle({
    Name = "Mostrar Nome",
    Default = false,
    Callback = function(Value)
        ESP.ShowName = Value
    end
})

ESPTab:AddToggle({
    Name = "Team Check",
    Default = false,
    Callback = function(Value)
        ESP.Teamcheck = Value
    end
})

ESPTab:AddToggle({
    Name = "Mostrar Saúde",
    Default = false,
    Callback = function(Value)
        ESP.ShowHealth = Value
    end
})

-- Tab para Aimbot e FOV
local AimbotTab = Window:MakeTab({
    Name = "Aimbot & FOV",
    Icon = "rbxassetid://4483362458",
    PremiumOnly = false
})

-- Toggles e sliders do Aimbot
AimbotTab:AddToggle({
    Name = "Aimbot",
    Default = false,
    Callback = function(Value)
        silentAimEnabled = Value
    end
})

AimbotTab:AddToggle({
    Name = "Ativar FOV",
    Default = false,
    Callback = function(Value)
        fovEnabled = Value
        updateFovCircle()
    end
})

AimbotTab:AddSlider({
    Name = "Tamanho da FOV",
    Min = 50,
    Max = 500,
    Default = 200,
    Increment = 10,
    Callback = function(Value)
        fovRadius = Value
        updateFovCircle()
    end
})

AimbotTab:AddSlider({
    Name = "Espessura da FOV",
    Min = 1,
    Max = 5,
    Default = 1,
    Increment = 1,
    Callback = function(Value)
        fovCircle.Thickness = Value
    end
})

AimbotTab:AddSlider({
    Name = "Transparência da FOV",
    Min = 0,
    Max = 1,
    Default = 0.5,
    Increment = 0.1,
    Callback = function(Value)
        fovCircle.Transparency = Value
    end
})

AimbotTab:AddColorPicker({
    Name = "Cor da FOV",
    Default = Color3.new(1, 0, 0),
    Callback = function(Value)
        fovCircle.Color = Value
    end
})

-- Loop principal
game:GetService("RunService").RenderStepped:Connect(function()
    updateFovCircle()
    silentAimAtClosestPlayer()
end)

OrionLib:Init()
